<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ABCD2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/media.css" />

    <!-- Material Icons CDN -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
  </head>
  <body>
    <!--! Top Bar -->

    <header class="topbar">
      <div class="topbar-left">
        <div class="logo"><a href="../../index.html">ABCD</a></div>
        <button id="hamburger" class="hamburger-btn material-icons hamburger">
          menu
        </button>
      </div>

      <div class="topbar-right">
        <div class="search-container" id="searchBox" role="search">
          <input
            type="text"
            placeholder="Search the application..."
            aria-label="Search the application"
          />
          <div class="search-icon-container">
            <button
              type="button"
              id="searchToggle"
              class="material-icons search-icon"
            >
              search
            </button>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      <!--! Sidebar -->
       <nav class="sidebar show" id="sidebar" aria-label="Main navigation">
        <div class="menu">
          <div class="menu-item">
            <a href="user.html">
              <span class="material-icons" aria-hidden="true">person</span>
              User
            </a>
          </div>

          <!-- Inventory with Submenu -->
          <div class="menu-item has-submenu">
            <a href="javascript:void(0)" class="submenu-toggle"> 
              <span class="material-icons" aria-hidden="true">inventory_2</span>
              Inventory
            </a>
            <div class="submenu">
              <a href="inventory.html">Inventory Items</a>
              <a href="accessories.html">Accessories</a>
              <a href="peripherals.html">Peripherals</a>
            </div>
          </div>

          <div class="menu-item">
            <a href="repair.html">
              <span class="material-icons" aria-hidden="true">build</span>
              Repair
            </a>
          </div>
          <div class="menu-item">
            <a href="upgrade.html">
              <span class="material-icons" aria-hidden="true">upgrade</span>
              Upgrade
            </a>
          </div>
          <div class="menu-item">
            <a href="issueitem.html">
              <span class="material-icons" aria-hidden="true">
                assignment_returned
              </span>
              Issue To
            </a>
          </div>
          <div class="menu-item">
            <a href="report.html">
              <span class="material-icons" aria-hidden="true">bar_chart</span>
              Reports
            </a>
          </div>
        </div>

        <div class="sidebar-footer">
          <span class="material-icons" aria-hidden="true">account_circle</span>
          <span>Logged User</span>
        </div>
      </nav>

      <!--! Main Content -->

      <!-- Main Container -->
      <main class="main" id="main-content">
        <div class="page-header">
          <h2>Peripherals Management</h2>
          <button class="btn btn-primary" id="addItemBtn">
            + Add Peripherals
          </button>
        </div>

        <div class="cards-container">
          <!-- Example Card -->
          <div class="item-card" data-id="ACC001" onclick="location.href='accessories-details.html'">
            <img
              src="../assets/images/headset.png"
              alt="Headset"
              class="card-img"
            />
            <h3>Ram</h3>
            <p>Quantity: 18 / 20</p>
            <button
              class="btn btn-sm btn-primary view-details"
            
            >
              View Details
            </button>
          </div>

          <div class="item-card" data-id="ACC002"   onclick="location.href='accessories-details.html'">
            <img
              src="../assets/images/webcam.png"
              alt="Webcam"
              class="card-img"
            />
            <h3>Storage</h3>
            <p>Quantity: 10 / 12</p>
            <button class="btn btn-sm btn-primary view-details">
              View Details
            </button>
          </div>

          <!-- Add more cards dynamically from backend -->
        </div>
      </main>

      <!-- Add Item Modal -->
      <div id="addItemModal" class="modal">
        <div class="modal-content">
          <span class="close" id="closeItemModal">&times;</span>
          <h2>Add New Item</h2>
          <form id="addItemForm">
            <div class="form-group">
              <label for="itemName">Peripherals Name</label>
              <input
                type="text"
                id="itemName"
                name="itemName"
                required
              />
            </div>

            <div class="form-group">
              <label for="itemImage">Peripherals Image</label>
              <input
                type="file"
                id="itemImage"
                name="itemImage"
                accept="image/*"
              />
              <div class="image-preview">
                <img
                  id="previewImg"
                  src=""
                  alt="Preview"
                  style="display: none; max-width: 100px; margin-top: 10px"
                />
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Save</button>
              <button
                type="button"
                class="btn btn-secondary"
                id="cancelItemBtn"
              >
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="../js/script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const addItemBtn = document.getElementById("addItemBtn");
        const modal = document.getElementById("addItemModal");
        const closeBtn = document.getElementById("closeItemModal");
        const cancelBtn = document.getElementById("cancelItemBtn");
        const itemForm = document.getElementById("addItemForm");
        const itemImage = document.getElementById("itemImage");
        const previewImg = document.getElementById("previewImg");

        // Open modal
        addItemBtn.addEventListener("click", () => {
          modal.style.display = "block";
        });

        // Close modal
        closeBtn.addEventListener("click", () => {
          modal.style.display = "none";
        });

        cancelBtn.addEventListener("click", () => {
          modal.style.display = "none";
        });

        // Close if click outside content
        window.addEventListener("click", (e) => {
          if (e.target == modal) {
            modal.style.display = "none";
          }
        });

        // Preview Image
        itemImage.addEventListener("change", (e) => {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = () => {
              previewImg.src = reader.result;
              previewImg.style.display = "block";
            };
            reader.readAsDataURL(file);
          } else {
            previewImg.style.display = "none";
          }
        });

        // Form submit
        itemForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const name = document.getElementById("itemName").value;
          alert(`item Added: ${name}`);
          modal.style.display = "none";
          itemForm.reset();
          previewImg.style.display = "none";
        });
      });
    </script>
  </body>
</html>
